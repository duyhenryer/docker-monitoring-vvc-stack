{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "grafana",
            "uid": "-- Grafana --"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "enable": true,
          "expr": "sum(vm_app_version{job=~\"$job\", instance=~\"$instance\"}) by(short_version) unless (sum(vm_app_version{job=~\"$job\", instance=~\"$instance\"} offset $__interval) by(short_version))",
          "hide": true,
          "iconColor": "blue",
          "name": "version change",
          "textFormat": "{{short_version}}",
          "titleFormat": "Version change"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "enable": true,
          "expr": "sum(changes(vm_app_start_timestamp{job=~\"$job\", instance=~\"$instance\"}[$__interval])) by(job)",
          "hide": true,
          "iconColor": "orange",
          "name": "restarts",
          "textFormat": "{{job}} restarted"
        }
      ]
    },
    "description": "Overview for cluster version of VictoriaLogs v1.29.0 or higher",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 6,
    "links": [],
    "panels": [
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 16,
        "panels": [],
        "title": "Stats",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Total amount of log entries in the storage.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 0,
          "y": 1
        },
        "id": 79,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(vl_storage_rows{job=~\"$job\", instance=~\"$instance\"})",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Total log entries",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "The total number of log entries ingested over the past 24 hours.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 4,
          "y": 1
        },
        "id": 80,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(increase(vl_rows_ingested_total{job=~\"$job\", instance=~\"$instance\"}[24h]))",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Ingested logs 24h",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Average ingestion rate of log entries.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 9,
          "y": 1
        },
        "id": 82,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(rate(vl_rows_ingested_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Insert req/s",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Total amount of used disk space.\nAccounts for all compressed log entries and index size.\n\nSee how to [control disk usage](https://docs.victoriametrics.com/victorialogs/#retention-by-disk-space-usage).",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "bytes"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 14,
          "y": 1
        },
        "id": 85,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(vl_data_size_bytes{job=~\"$job\", instance=~\"$instance\"})",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Disk space usage",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Integer number of CPU cores available to the application. This value is automatically rounded down from fractional CPU quotas. For optimal performance, fractional CPU units should be avoided. See the [best practices](https://docs.victoriametrics.com/victoriametrics/bestpractices/#kubernetes) documentation for more details.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 19,
          "y": 1
        },
        "id": 87,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(vm_available_cpu_cores{job=~\"$job\", instance=~\"$instance\"})",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Available CPU",
        "type": "stat"
      },
      {
        "description": "See [latest releases](https://docs.victoriametrics.com/victorialogs/changelog/).",
        "fieldConfig": {
          "defaults": {},
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 0,
          "y": 5
        },
        "id": 63,
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<div style=\"text-align: center;\">$version</div>",
          "mode": "markdown"
        },
        "pluginVersion": "12.1.0",
        "title": "Version",
        "type": "text"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "The cumulative number of log entries ingested over the last 24h. \n\nThe size is calculated before compression.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "bytes"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 4,
          "y": 5
        },
        "id": 81,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(increase(vl_bytes_ingested_total{job=~\"$job\", instance=~\"$instance\"}[24h]))",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Ingested bytes 24h",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Rate of HTTP read requests.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 9,
          "y": 5
        },
        "id": 83,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance\", path=~\"/select/.*\"}[$__rate_interval]))",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Read req/s",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "The ratio between original data size and compressed data stored on disk. This metric excludes indexdb size. \n\nThe ratio can go up or down as the system performs automatic maintenance and applies retention policies. For examples:\n- Background merges: [Merges](https://docs.victoriametrics.com/victorialogs/#forced-merge) improve compression by combining data into larger, more efficiently compressed blocks\n- Retention policies: When old data is deleted due to retention settings, the ratio changes as different time periods have varying compression characteristics\n\n",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 14,
          "y": 5
        },
        "id": 86,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": " sum(vl_uncompressed_data_size_bytes{job=~\"$job\", instance=~\"$instance\"}) / sum(vl_compressed_data_size_bytes{job=~\"$job\", instance=~\"$instance\"})",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "{{instance}}",
            "refId": "A"
          }
        ],
        "title": "Compression ratio",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Total system memory available to the application. This represents the system or container's memory capacity or limit, not the currently free memory.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                }
              ]
            },
            "unit": "bytes"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 5,
          "x": 19,
          "y": 5
        },
        "id": 88,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "text": {},
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance\"})",
            "format": "time_series",
            "instant": true,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "total",
            "refId": "A"
          }
        ],
        "title": "Available memory",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false,
              "minWidth": 50
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Time"
              },
              "properties": [
                {
                  "id": "custom.hidden",
                  "value": true
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value"
              },
              "properties": [
                {
                  "id": "custom.hidden",
                  "value": true
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 9,
          "x": 0,
          "y": 9
        },
        "id": 72,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true,
          "sortBy": [
            {
              "desc": false,
              "displayName": "tier"
            }
          ]
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum by (instance, version, tier) (\n  label_set(\n    vm_app_version{job=~\"$job\",instance=~\"$instance_select_all\"}\n      and on(instance,version)\n    vm_app_version{job=~\"$job\",instance=~\"$instance_insert_all\"} * 0 + 1,\n    \"tier\",\"select,insert\"\n  )\nor\n  label_set(\n    vm_app_version{job=~\"$job\",instance=~\"$instance_select_all\"}\n      unless on(instance,version)\n    vm_app_version{job=~\"$job\",instance=~\"$instance_insert_all\"} * 0 + 1,\n    \"tier\",\"select\"\n  )\nor\n  label_set(\n    vm_app_version{job=~\"$job\",instance=~\"$instance_insert_all\"}\n      unless on(instance,version)\n    vm_app_version{job=~\"$job\",instance=~\"$instance_select_all\"} * 0 + 1,\n    \"tier\",\"insert\"\n  )\nor\n  label_set(\n    vm_app_version{job=~\"$job\",instance=~\"$instance_storage_all\"} * 0 + 1,\n    \"tier\",\"storage\"\n  )\nor\n  label_set(\n    (\n      vm_app_version{job=~\"$job\",instance=~\"$instance\"}\n      unless on(instance,version)\n      (\n        vm_app_version{job=~\"$job\",instance=~\"$instance_select_all\"}\n        or\n        vm_app_version{job=~\"$job\",instance=~\"$instance_insert_all\"}\n        or\n        vm_app_version{job=~\"$job\",instance=~\"$instance_storage_all\"}\n      )\n    ) * 0 + 1,\n    \"tier\",\"unknown\"\n  )\n)\n",
            "format": "table",
            "hide": false,
            "instant": true,
            "legendFormat": "{{instance}}",
            "range": false,
            "refId": "A"
          }
        ],
        "title": "Component versions ($job)",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Uptime shows whether the services are working and what their roles are. A VictoriaLogs instance can serve all roles; if it is not yet serving requests from the network, it will show as unknown.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "stepAfter",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "decimals": 0,
            "links": [],
            "mappings": [],
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 15,
          "x": 9,
          "y": 9
        },
        "id": 73,
        "options": {
          "legend": {
            "calcs": [
              "lastNotNull"
            ],
            "displayMode": "table",
            "placement": "right",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(min_over_time(up{job=~\"$job\", instance=~\"$instance_storage_all\"}[$__rate_interval]))",
            "format": "time_series",
            "instant": false,
            "legendFormat": "storage",
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum (\n  min_over_time(\n    up{job=~\"$job\", instance=~\"$instance_select_all\"}[$__rate_interval]\n  )\n  unless on(instance)\n  up{job=~\"$job\", instance=~\"$instance_insert_all\"}\n)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "legendFormat": "select",
            "refId": "B"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum (\n  min_over_time(\n    up{job=~\"$job\", instance=~\"$instance_insert_all\"}[$__rate_interval]\n  )\n  unless on(instance)\n  up{job=~\"$job\", instance=~\"$instance_select_all\"}\n)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "legendFormat": "insert",
            "refId": "C"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(\n  min_over_time(\n    up{job=~\"$job\", instance=~\"$instance_select_all\"}[$__rate_interval]\n  )\n  and on(instance)\n  up{job=~\"$job\", instance=~\"$instance_insert_all\"}\n)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "legendFormat": "insert,select",
            "refId": "D"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum by (instance) (\n  min_over_time(up{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n)\nunless on (instance)\nsum by (instance) (\n  min_over_time(up{job=~\"$job\", instance=~\"$instance_storage_all\"}[$__rate_interval])\n  or\n  min_over_time(up{job=~\"$job\", instance=~\"$instance_insert_all\"}[$__rate_interval])\n  or\n  min_over_time(up{job=~\"$job\", instance=~\"$instance_select_all\"}[$__rate_interval])\n)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "legendFormat": "unknown",
            "refId": "E"
          }
        ],
        "title": "Uptime ($job)",
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 15
        },
        "id": 18,
        "panels": [],
        "title": "Overview",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Ingestion rate in number of log entries and bytes per second.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byRegexp",
                "options": "/.*(bytes)/"
              },
              "properties": [
                {
                  "id": "custom.axisPlacement",
                  "value": "right"
                },
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 16
        },
        "id": 2,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(rate(vl_rows_ingested_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (type) > 0",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 1,
            "legendFormat": "{{type}}",
            "range": true,
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(rate(vl_bytes_ingested_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (type) > 0",
            "hide": false,
            "instant": false,
            "legendFormat": "{{type}} (bytes)",
            "range": true,
            "refId": "B"
          }
        ],
        "title": "Logs ingestion rate ($instance)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "* `*` - unsupported query path\n* `/insert` - [inserts](https://docs.victoriametrics.com/victorialogs/data-ingestion/)\n* `/select` - [reads](https://docs.victoriametrics.com/victorialogs/querying/)\n* `/metrics` - scraping of system metrics",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 16
        },
        "id": 14,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (path) > 0",
            "format": "time_series",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "{{path}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Requests rate ($instance)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "* `*` - unsupported query path\n* `/insert` - [inserts](https://docs.victoriametrics.com/victorialogs/data-ingestion/)\n* `/select` - [reads](https://docs.victoriametrics.com/victorialogs/querying/)\n* `/metrics` - scraping of system metrics",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 24
        },
        "id": 69,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(rate(vm_http_request_errors_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, path) > 0",
            "format": "time_series",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "{{job}} - {{path}}",
            "range": true,
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(rate(vl_http_errors_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, path) > 0",
            "format": "time_series",
            "hide": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "{{job}} - {{path}}",
            "range": true,
            "refId": "B"
          }
        ],
        "title": "Requests error rate ($instance)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "99th percentile response time for VictoriaLogs HTTP endpoints, grouped by instance and path. This means 99% of requests are faster than this value. **Lower numbers are better**, as they indicate faster responses and fewer slow requests.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 24
        },
        "id": 66,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "max(vl_http_request_duration_seconds{job=~\"$job\", instance=~\"$instance\", quantile=\"0.99\"}) by (path) > 0",
            "format": "time_series",
            "intervalFactor": 1,
            "legendFormat": "{{path}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Request duration p99 ($instance)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "99th percentile response time for VictoriaLogs HTTP endpoints, grouped by instance and path. This means 99% of requests are faster than this value. **Lower numbers are better**, as they indicate faster responses and fewer slow requests.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "bytes"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 32
        },
        "id": 6,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "max(vl_data_size_bytes{job=~\"$job\", instance=~\"$instance\"}) by (instance)",
            "format": "time_series",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "{{instance}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Disk space usage ($instance)",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Rate of VictoriaLogs' own application log messages (debug, warnings, errors) - NOT the logs that VictoriaLogs is collecting from external sources.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "bars",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 32
        },
        "id": 67,
        "options": {
          "legend": {
            "calcs": [
              "lastNotNull",
              "mean",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(rate(vm_log_messages_total{job=~\"$job\", instance=~\"$instance\", level!=\"info\"}[$__rate_interval])) by (job, level, location)",
            "interval": "5m",
            "legendFormat": "{{job}} - {{level}}: {{location}}",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "VictoriaLogs internal logging ($instance)",
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 40
        },
        "id": 68,
        "panels": [],
        "title": "Troubleshooting",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Number of restarts per job. The chart can be useful to identify periodic process restarts and correlate them with potential issues or anomalies. \n\nNormally, processes shouldn't restart unless restart was inited by user. The reason of restarts should be figured out by checking the logs of each specific service. ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "stepAfter",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "decimals": 0,
            "links": [],
            "mappings": [],
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 41
        },
        "id": 62,
        "options": {
          "legend": {
            "calcs": [
              "lastNotNull"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "sum(changes(vm_app_start_timestamp{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by(job)",
            "format": "time_series",
            "instant": false,
            "legendFormat": "{{job}}",
            "refId": "A"
          }
        ],
        "title": "Restarts",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "The number of new [log streams](https://docs.victoriametrics.com/victorialogs/keyconcepts/#stream-fields) created over the last 24 hours. A lower rate is better. See [How to determine which fields must be associated with log streams?](https://docs.victoriametrics.com/victorialogs/keyconcepts/#how-to-determine-which-fields-must-be-associated-with-log-streams) for more details.\n",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "links": [],
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 41
        },
        "id": 26,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "expr": "increase(vl_streams_created_total{job=~\"$job\", instance=~\"$instance\"}[1d])",
            "format": "time_series",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "new log streams over 24h",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Streams churn rate 24h",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Flags explicitly set to non-default values",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "Time"
              },
              "properties": [
                {
                  "id": "custom.hidden",
                  "value": true
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "Value"
              },
              "properties": [
                {
                  "id": "custom.hidden",
                  "value": true
                }
              ]
            },
            {
              "matcher": {
                "id": "byName",
                "options": "job"
              },
              "properties": [
                {
                  "id": "custom.hidden",
                  "value": true
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 49
        },
        "id": 70,
        "options": {
          "cellHeight": "sm",
          "footer": {
            "countRows": false,
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "showHeader": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": false,
            "expr": "sum(flag{is_set=\"true\", job=~\"$job\", instance=~\"$instance\"}) by(job, instance, name, value)",
            "format": "table",
            "instant": true,
            "legendFormat": "{{name}}={{value}}",
            "range": false,
            "refId": "A"
          }
        ],
        "title": "Non-default flags",
        "type": "table"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "$ds"
        },
        "description": "Number of log entries ignored or dropped on insertion due to the following reasons:\n* Timestamp out of the retention period or in the future\n* Number of fields per entry exceeded\n* Line too long\n\nIf this occurs, check the VictoriaLogs log for details.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "fieldMinMax": false,
            "mappings": [],
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 49
        },
        "id": 71,
        "options": {
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true,
            "sortBy": "Last *",
            "sortDesc": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": true,
            "expr": "sum(increase(vl_rows_dropped_total{job=~\"$job\", instance=~\"$instance\"}[1h])) by (reason)",
            "hide": false,
            "interval": "",
            "legendFormat": "{{reason}}",
            "range": true,
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "editorMode": "code",
            "exemplar": true,
            "expr": "sum(increase(vl_too_long_lines_skipped_total{job=~\"$job\", instance=~\"$instance\"}[1h]))",
            "hide": false,
            "interval": "",
            "legendFormat": "line_too_long",
            "range": true,
            "refId": "B"
          }
        ],
        "title": "Logs dropped for last 1h",
        "type": "timeseries"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 57
        },
        "id": 28,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Percentage of physical RAM used compared to the memory limit. If this percentage is high, check the `RSS` anonymous vs resident ratio panel for more details.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "yellow",
                      "value": 0.8
                    },
                    {
                      "color": "red",
                      "value": 0.9
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 7,
              "x": 0,
              "y": 58
            },
            "id": 134,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "percentChangeColorMode": "standard",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(\n    max_over_time(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance\"}\n)",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "RSS % of memory limit",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "How much memory (RAM) the VictoriaLogs process is actually using, compared to its allowed container or system limit. See 'Memory Usage' panel for a detailed breakdown.\n\n- Good: Below 70% most of the time, maybe spiking a bit under load.\n- Bad: Above 90% for more than 5 minutes = risk of out-of-memory (`OOM`) kill.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 17,
              "x": 7,
              "y": 58
            },
            "id": 136,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(\n    max_over_time(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance\"}\n) by (job)",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Physical memory % usage ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Portion of RAM that cannot be reclaimed without swapping. If both the `RSS`-to-limit percentage and this ratio are high, the process is at high risk of an `OOM` kill.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 7,
              "x": 0,
              "y": 63
            },
            "id": 135,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "percentChangeColorMode": "standard",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(process_resident_memory_anon_bytes{job=~\"$job\",instance=~\"$instance\"}\n/\nprocess_resident_memory_bytes{job=~\"$job\",instance=~\"$instance\"})",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Anonymous / Resident ratio",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "- Anonymous resident memory: Private memory allocated to the application that **cannot** be reclaimed by the kernel. Refer to the [Check/profile](https://docs.victoriametrics.com/victorialogs/#profiling) Go heap section for troubleshooting.\n- File-backed resident memory: Memory mapped from files, which can be safely reclaimed. Increases during querying. Correlate with `I/O` panels for further analysis.\n- Shared resident memory: Typically negligible. Large spikes may indicate unexpected shared memory consumers.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 68
            },
            "id": 137,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(process_resident_memory_anon_bytes{job=~\"$job\", instance=~\"$instance\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "anonymous resident memory",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(process_resident_memory_file_bytes{job=~\"$job\", instance=~\"$instance\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "file-backed resident memory",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(process_resident_memory_shared_bytes{job=~\"$job\", instance=~\"$instance\"})",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "shared resident memory",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "Memory usage ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 1,
                  "axisSoftMin": 0,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 68
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(\n    rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    process_cpu_cores_available{job=~\"$job\", instance=~\"$instance\"}\n) by(job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "CPU % usage ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Lower is better, e.g. 20% means the process was delayed by memory pressure 20% of the time. See [Pressure Stall Information](https://docs.kernel.org/accounting/psi.html).\n\n- waiting: Time fraction where at least one thread was blocked on memory.\n- stalled: Time fraction where every thread was blocked on memory (severe pressure).\n\nIf queries slow down and both series spike, the host is likely limited by RAM or I/O throughput.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 0.2
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 76
            },
            "id": 138,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(process_pressure_memory_waiting_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}: waiting",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(process_pressure_memory_stalled_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}: stalled",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Memory pressure",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Helps troubleshoot high CPU usage or throttling:\n\n- waiting: The percentage of time at least one task in the VictoriaLogs process was ready to run (runnable) but couldn't get scheduled on the CPU.\n- stalled: The percentage of time all tasks in the process (except idle ones) were unable to get CPU time — a full CPU stall.\n\nIf there’s a CPU burst, it's normal to see waiting or stalled > 1%. It only becomes a concern if it consistently climbs above 5–10% and aligns with latency spikes or GC slowdowns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 1,
                  "axisSoftMin": 0,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 76
            },
            "id": 144,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_pressure_cpu_waiting_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job) > 0.005",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}: waiting",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_pressure_cpu_stalled_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job) > 0.005",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}: stalled",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "CPU pressure",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of read/write calls application makes:\n\n- read call: Number of read*()-family system calls your process has issued since start. Each call can move 1 byte or megabytes, cached or uncached.\n- write call: Number of write*()-family system calls (including write, pwrite, writev, etc.) made by the process.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "read calls"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 84
            },
            "id": 140,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_io_read_syscalls_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "read calls",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_io_write_syscalls_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "write calls",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Read/Write syscalls ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Percentage of open file descriptors (files, sockets, pipes, etc.,) compared to the limit set in the OS. Reaching the limit of open files can cause various issues and must be prevented.\n\nSee [how to change limits](https://medium.com/@muhammadtriwibowo/set-permanently-ulimit-n-open-files-in-ubuntu-4d61064429a).",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 2,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#C4162A",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 84
            },
            "id": 145,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(max_over_time(process_open_fds{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n/\nprocess_max_fds{job=~\"$job\", instance=~\"$instance\"}) by (job)",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Open FDs & usage ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Measure the actual bytes read from and written to disk by the process:\n\n- read: physical bytes the kernel actually pulled from the storage device on behalf of the process (after checking page-cache).\n- write: physical bytes the kernel ultimately wrote to the storage device for the process (after combining, caching, or delaying writes).",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "read"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 92
            },
            "id": 141,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_io_storage_read_bytes_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "read",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_io_storage_written_bytes_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "write",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "Disk writes/reads ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "IO pressure based on [Pressure Stall Information](https://docs.kernel.org/accounting/psi.html). The lower the better.\n\n- waiting: at least one runnable thread blocked on block-`I/O` (disk, NVMe, network-storage) while others could still make progress.\n- stalled: all non-idle threads simultaneously waiting on `I/O`; no useful user code ran during these periods → true `I/O` thrashing.\n\nIf stalled > 0 while querying, it's recommended to increase queue depth on NVMe, raise blk-mq budgets, or relax cgroup I/O limits.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 92
            },
            "id": 143,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(process_pressure_io_waiting_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job) > 0.005",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}} - waiting",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(process_pressure_io_stalled_seconds_total{job=~\"$job\"}[$__rate_interval])) by (job) > 0.005",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}} - stalled",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "IO pressure",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Current number of active TCP connections to VictoriaLogs. This metric helps monitor connection pool usage and identify potential connection leaks. High values may indicate clients not properly closing connections or connection pooling issues. Monitor for gradual increases that could lead to resource exhaustion.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 100
            },
            "id": 146,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(vm_tcplistener_conns{job=~\"$job\", instance=~\"$instance\"}) by (job)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "TCP connections ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 100
            },
            "id": 148,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(go_goroutines{job=~\"$job\", instance=~\"$instance\"}) by (job)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Goroutines ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of incoming TCP connections accepted by VictoriaLogs. This metric indicates network activity and client connection patterns. Sudden spikes may indicate increased load or potential DDoS attacks. Sustained high rates should be correlated with resource usage to ensure adequate capacity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 108
            },
            "id": 147,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(vm_tcplistener_accepts_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "TCP connections rate ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 108
            },
            "id": 149,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(process_num_threads{job=~\"$job\", instance=~\"$instance\"}) by (job)",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Threads ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Percent of CPU spent on garbage collection.\n\nIf % is high, then CPU usage can be decreased by changing `GOGC` to higher values. Increasing `GOGC` value will increase memory usage, and decrease CPU usage.\n\nTry searching for keyword `GOGC` at https://docs.victoriametrics.com/victoriametrics/troubleshooting/ ",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 116
            },
            "id": 74,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(\n  rate(go_gc_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]) \n / rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n ) by(job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "CPU spent on GC ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Time goroutines have spent in runnable state before actually running. The lower is better.\n\nHigh values or values exceeding the threshold is usually a sign of            insufficient CPU resources or CPU throttling. \n\nVerify that service has enough CPU resources. Otherwise, the service could work unreliably with delays in processing.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 0.1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 116
            },
            "id": 61,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(histogram_quantile(0.99, sum(rate(go_sched_latencies_seconds_bucket{job=~\"$job\"}[$__rate_interval])) by (job, le))) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Go scheduling latency",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of allocations in memory. Sudden increase in allocations would mean increased pressure on Go Garbage Collector and can saturate CPU resources of the application.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 124
            },
            "id": 75,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(go_memstats_alloc_bytes_total{job=~\"$job\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 2,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Memory allocations rate",
            "type": "timeseries"
          }
        ],
        "title": "Resource usage",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 58
        },
        "id": 89,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "CPU utilization per instance as a fraction of available cores. Sustained values above 80% indicate CPU saturation; correlate with CPU PSI and query latency.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 133
            },
            "id": 116,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "editorMode": "code",
                "expr": "max(\n  rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])\n  /\n  process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_storage\"}\n)",
                "legendFormat": "max",
                "range": true,
                "refId": "A"
              },
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "min(\n  rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])\n  /\n  process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_storage\"}\n)",
                "hide": false,
                "legendFormat": "min",
                "range": true,
                "refId": "B"
              },
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "quantile(0.5,\n    rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_storage\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_storage\", instance=~\"$instance\"}\n)",
                "hide": false,
                "legendFormat": "median",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "CPU % usage ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "How much memory (RAM) the VictoriaLogs process is actually using, compared to its allowed container or system limit. See 'Memory Usage' panel for a detailed breakdown.\n\n- Good: Below 70% most of the time, maybe spiking a bit under load.\n- Bad: Above 90% for more than 5 minutes = risk of out-of-memory (`OOM`) kill.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 1,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 133
            },
            "id": 117,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": true,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(\n    max_over_time(process_resident_memory_anon_bytes{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance_storage\"}\n)",
                "interval": "",
                "legendFormat": "max",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "min(\n    max_over_time(process_resident_memory_anon_bytes{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance_storage\"}\n)",
                "hide": false,
                "interval": "",
                "legendFormat": "min",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "quantile(0.5,\n    max_over_time(process_resident_memory_anon_bytes{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance_storage\"}\n)",
                "hide": false,
                "interval": "",
                "legendFormat": "median",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "Physical memory usage ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Disk space usage and limits for VictoriaLogs storage. Tracks current data usage against the configured retention limit and total disk space.\n\nThe orange line indicates the space retention limit. When usage approaches this limit, older data will be automatically deleted. If the space retention limit (`-retention.maxDiskSpaceUsageBytes`) is not specified, it won't show.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMin": 0,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "max space retention of instances"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.insertNulls",
                      "value": 3600000
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 141
            },
            "id": 209,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(max_over_time(vl_max_disk_space_usage_bytes{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job)\n/\nmax(vl_total_disk_space_bytes{job=~\"$job\", instance=~\"$instance\"}) by (job) > 0",
                "hide": false,
                "interval": "",
                "legendFormat": "max space retention of instances",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(max_over_time(vl_data_size_bytes{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job)\n/\nmax(vl_total_disk_space_bytes{job=~\"$job\", instance=~\"$instance\"}) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Disk ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of incoming query requests by endpoint path. This metric tracks the query load on VictoriaLogs, including different query interfaces and internal operations. \n\nHigher rates indicate increased query activity from users or applications. Monitor for sudden spikes that might indicate new dashboards, automated queries, or potential performance issues. Sustained high rates may require scaling query processing capacity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 141
            },
            "id": 129,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (path) > 0",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request rate ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile of HTTP request duration. This represents the time it takes for 99% of HTTP operations to complete. High values indicate slow ingestion/querying performance that could affect overall system throughput. Spikes may suggest storage bottlenecks, resource contention, or inefficient data processing.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 149
            },
            "id": 101,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(vl_http_request_duration_seconds{job=~\"$job\", instance=~\"$instance_storage\", quantile=\"0.99\"}) by (path) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request duration p99 ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile response time for VictoriaLogs HTTP endpoints, grouped by instance and path. This means 99% of requests are faster than this value. **Lower numbers are better**, as they indicate faster responses and fewer slow requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*(bytes)/"
                  },
                  "properties": [
                    {
                      "id": "custom.axisPlacement",
                      "value": "right"
                    },
                    {
                      "id": "unit",
                      "value": "bytes"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 149
            },
            "id": 102,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_rows_ingested_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (type) > 0",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_bytes_ingested_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (type) > 0",
                "hide": false,
                "instant": false,
                "legendFormat": "{{type}} (bytes)",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Logs ingestion rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of concurrent insert operations has reached the configured limit: `-maxConcurrentInserts` (default: 2x CPU cores)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 157
            },
            "id": 100,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(increase(vm_concurrent_insert_limit_reached_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Concurrent insert limit reached ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of insert requests that timed out while waiting for available concurrency slots. This indicates sustained ingestion overload beyond configured limits.\n\nHigh values suggest:\n- Insert queue is consistently full\n- Insert requests waiting too long for execution slots\n- System under sustained heavy ingestion load\n- Need for horizontal scaling or ingestion optimization\n\nCombined with `Insert concurrency limit reached`, provides complete picture of ingestion rejection patterns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "vis": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 157
            },
            "id": 202,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(rate(vm_concurrent_insert_limit_timeout_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (job)",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Insert timeouts ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of active message processors handling log ingestion. These processors parse and process incoming log messages before storage. The count typically correlates with the ingestion load.\n\nIf this number is unusually high or inflated (which is rare), check memory usage. It may indicate a heavy, concurrently ingestion load or processing bottlenecks that could benefit from performance tuning.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 165
            },
            "id": 112,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(max_over_time(vl_insert_processors_count{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(max_over_time(vm_concurrent_insert_capacity{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval]))",
                "hide": false,
                "instant": false,
                "legendFormat": "soft limit",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Message processors ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of log rows waiting to be written to storage, categorized by type. Pending rows indicate temporary queuing during ingestion. Consistently high values may suggest storage write bottlenecks or insufficient write capacity.\n\nPending rows are flushed in two ways:\n\n- After a specific time period (typically 1 second)\n- When the pending row size exceeds a threshold (typically 1.75 MB)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 165
            },
            "id": 98,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(vl_pending_rows{job=~\"$job\", instance=~\"$instance_storage\"}) by (type)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Pending rows ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile duration of background flush operations by type (max across instances). High values may indicate disk pressure or heavy ingestion. Correlate with `I/O` panels.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 173
            },
            "id": 118,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": false
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(vl_insert_flush_duration_seconds{job=~\"$job\", instance=~\"$instance_storage\", quantile=\"0.99\"}) by (type) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Flush duration p99 ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "The number of new [log streams](https://docs.victoriametrics.com/victorialogs/keyconcepts/#stream-fields) created over the last 24 hours. Lower is better. See [How to determine which fields must be associated with log streams?](https://docs.victoriametrics.com/victorialogs/keyconcepts/#how-to-determine-which-fields-must-be-associated-with-log-streams)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 173
            },
            "id": 103,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(increase(vl_streams_created_total{job=~\"$job\", instance=~\"$instance_storage\"}[1d])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Streams churn rate 24h ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of incoming query requests by endpoint path. This metric tracks the query load on VictoriaLogs, including different query interfaces and internal operations. \n\nHigher rates indicate increased query activity from users or applications. Monitor for sudden spikes that might indicate new dashboards, automated queries, or potential performance issues. Sustained high rates may require scaling query processing capacity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 181
            },
            "id": 104,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance_storage\",path=~\"^/(internal/)?select.*\"}[$__rate_interval])) by (path) > 0",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Query requests rate ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "The number of concurrent select operations has reached the configured limit: `-search.maxConcurrentRequests`. To check the default capacity, refer to the `-vl_concurrent_select_capacity` metric.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 181
            },
            "id": 205,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(increase(vl_concurrent_select_limit_reached_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Concurrent query limit reached ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of queries that timed out while waiting for available concurrency slots. This indicates sustained query overload beyond configured limits.\n\nHigh values suggest:\n- Query queue is consistently full\n- Queries waiting too long for execution slots\n- System under sustained heavy load\n- Need for horizontal scaling or query optimization\n\nCombined with `Select concurrency limit reached`, provides complete picture of query rejection patterns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "vis": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 189
            },
            "id": 200,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_concurrent_select_limit_timeout_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by (job) > 0",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Query timeouts ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Total number of time-based (daily) partitions in storage. The number typically grows over time as new data arrives and is partitioned by time periods. \n\nExcessive partition counts may indicate retention policy issues or very high data ingestion rates that could impact query performance.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 3,
              "x": 0,
              "y": 196
            },
            "id": 90,
            "maxDataPoints": 100,
            "options": {
              "colorMode": "value",
              "graphMode": "area",
              "justifyMode": "auto",
              "orientation": "horizontal",
              "percentChangeColorMode": "standard",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "showPercentChange": false,
              "text": {},
              "textMode": "auto",
              "wideLayout": true
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(vl_partitions{job=~\"$job\", instance=~\"$instance_storage\"})",
                "format": "time_series",
                "instant": true,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Partition Count ($instance_storage)",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Number of storage parts (data files) in each tier. More parts mean fragmentation; fewer parts suggest successful merging. High part counts may slow queries and trigger background merge operations.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 9,
              "x": 3,
              "y": 196
            },
            "id": 91,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(vl_storage_parts{job=~\"$job\", instance=~\"$instance_storage\"}) by(type)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Part count max by type ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Number of storage merge operations by type (sum across instances). Merges compact smaller parts into larger ones; bursts are normal after activity spikes.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 196
            },
            "id": 93,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum(increase(vl_merges_total{job=~\"$job\", instance=~\"$instance_storage\"}[$__rate_interval])) by(type)",
                "hide": false,
                "interval": "$__rate_interval",
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Merge events ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "99th percentile duration of merge operations by storage type. Merge operations combine smaller storage parts into larger ones for optimization. \n\nNormal merge durations vary by storage type and data volume. Consistently high durations may indicate storage performance issues, high write load, or insufficient resources for background operations. Monitor for trends that could impact overall system performance.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 204
            },
            "id": 94,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(vl_merge_duration_seconds{job=~\"$job\", instance=~\"$instance_storage\", quantile=\"0.99\"}) by (type) > 0",
                "hide": false,
                "interval": "",
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Merge duration p99 ($instance_storage)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "99th percentile of data volume processed during merge operations by storage type. \n\nThis metric indicates the scale of background storage optimization activities. Larger merge sizes generally improve storage efficiency but require more resources. Consistently high values may indicate heavy write loads or large storage parts that need optimization. Monitor correlation with merge duration for performance insights.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 204
            },
            "id": 95,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(vl_merge_bytes{job=~\"$job\", instance=~\"$instance_storage\", quantile=\"0.99\"}) by (type) > 0",
                "hide": false,
                "interval": "",
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Merge bytes p99 ($instance_storage)",
            "type": "timeseries"
          }
        ],
        "title": "vlstorage",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 59
        },
        "id": 109,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "CPU utilization per instance as a fraction of available cores. Sustained values above 80% indicate CPU saturation; correlate with CPU PSI and query latency.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line"
                  }
                },
                "links": [],
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 134
            },
            "id": 206,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "editorMode": "code",
                "expr": "max(\n  rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])\n  /\n  process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_insert\"}\n)",
                "legendFormat": "max",
                "range": true,
                "refId": "A"
              },
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "min(\n  rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])\n  /\n  process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_insert\"}\n)",
                "hide": false,
                "legendFormat": "min",
                "range": true,
                "refId": "B"
              },
              {
                "0": "m",
                "1": "a",
                "2": "x",
                "3": "(",
                "4": "\n",
                "5": " ",
                "6": " ",
                "7": "r",
                "8": "a",
                "9": "t",
                "10": "e",
                "11": "(",
                "12": "\n",
                "13": " ",
                "14": " ",
                "15": " ",
                "16": " ",
                "17": "p",
                "18": "r",
                "19": "o",
                "20": "c",
                "21": "e",
                "22": "s",
                "23": "s",
                "24": "_",
                "25": "c",
                "26": "p",
                "27": "u",
                "28": "_",
                "29": "s",
                "30": "e",
                "31": "c",
                "32": "o",
                "33": "n",
                "34": "d",
                "35": "s",
                "36": "_",
                "37": "t",
                "38": "o",
                "39": "t",
                "40": "a",
                "41": "l",
                "42": "{",
                "43": "j",
                "44": "o",
                "45": "b",
                "46": "=",
                "47": "~",
                "48": "\"",
                "49": "$",
                "50": "j",
                "51": "o",
                "52": "b",
                "53": "\"",
                "54": ",",
                "55": "i",
                "56": "n",
                "57": "s",
                "58": "t",
                "59": "a",
                "60": "n",
                "61": "c",
                "62": "e",
                "63": "=",
                "64": "~",
                "65": "\"",
                "66": "$",
                "67": "i",
                "68": "n",
                "69": "s",
                "70": "t",
                "71": "a",
                "72": "n",
                "73": "c",
                "74": "e",
                "75": "_",
                "76": "s",
                "77": "t",
                "78": "o",
                "79": "r",
                "80": "a",
                "81": "g",
                "82": "e",
                "83": "\"",
                "84": "}",
                "85": "[",
                "86": "t",
                "87": "m",
                "88": "p",
                "89": "_",
                "90": "v",
                "91": "i",
                "92": "c",
                "93": "t",
                "94": "o",
                "95": "r",
                "96": "i",
                "97": "a",
                "98": "m",
                "99": "e",
                "100": "t",
                "101": "r",
                "102": "i",
                "103": "c",
                "104": "s",
                "105": "_",
                "106": "p",
                "107": "r",
                "108": "e",
                "109": "t",
                "110": "t",
                "111": "i",
                "112": "f",
                "113": "y",
                "114": "_",
                "115": "q",
                "116": "u",
                "117": "e",
                "118": "r",
                "119": "y",
                "120": "_",
                "121": "_",
                "122": "r",
                "123": "a",
                "124": "t",
                "125": "e",
                "126": "_",
                "127": "i",
                "128": "n",
                "129": "t",
                "130": "e",
                "131": "r",
                "132": "v",
                "133": "a",
                "134": "l",
                "135": "]",
                "136": "\n",
                "137": " ",
                "138": " ",
                "139": ")",
                "140": "\n",
                "141": " ",
                "142": " ",
                "143": " ",
                "144": " ",
                "145": "/",
                "146": "\n",
                "147": " ",
                "148": " ",
                "149": "p",
                "150": "r",
                "151": "o",
                "152": "c",
                "153": "e",
                "154": "s",
                "155": "s",
                "156": "_",
                "157": "c",
                "158": "p",
                "159": "u",
                "160": "_",
                "161": "c",
                "162": "o",
                "163": "r",
                "164": "e",
                "165": "s",
                "166": "_",
                "167": "a",
                "168": "v",
                "169": "a",
                "170": "i",
                "171": "l",
                "172": "a",
                "173": "b",
                "174": "l",
                "175": "e",
                "176": "{",
                "177": "j",
                "178": "o",
                "179": "b",
                "180": "=",
                "181": "~",
                "182": "\"",
                "183": "$",
                "184": "j",
                "185": "o",
                "186": "b",
                "187": "\"",
                "188": ",",
                "189": "i",
                "190": "n",
                "191": "s",
                "192": "t",
                "193": "a",
                "194": "n",
                "195": "c",
                "196": "e",
                "197": "=",
                "198": "~",
                "199": "\"",
                "200": "$",
                "201": "i",
                "202": "n",
                "203": "s",
                "204": "t",
                "205": "a",
                "206": "n",
                "207": "c",
                "208": "e",
                "209": "_",
                "210": "s",
                "211": "t",
                "212": "o",
                "213": "r",
                "214": "a",
                "215": "g",
                "216": "e",
                "217": "\"",
                "218": "}",
                "219": "\n",
                "220": ")",
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "quantile(0.5,\n    rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])\n    /\n    process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_insert\"}\n)",
                "hide": false,
                "legendFormat": "median",
                "range": true,
                "refId": "C"
              }
            ],
            "title": "CPU % usage ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile of insert operation duration. This represents the time it takes for 99% of insert operations to complete. High values indicate slow ingestion performance that could affect overall system throughput. Spikes may suggest storage bottlenecks, resource contention, or inefficient data processing.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 134
            },
            "id": 127,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(vl_http_request_duration_seconds{job=~\"$job\", instance=~\"$instance_insert_all\", instance=~\"$instance\", quantile=\"0.99\"}) by (path) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request duration p99 ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of incoming query requests by endpoint path. This metric tracks the query load on VictoriaLogs, including different query interfaces and internal operations. \n\nHigher rates indicate increased query activity from users or applications. Monitor for sudden spikes that might indicate new dashboards, automated queries, or potential performance issues. Sustained high rates may require scaling query processing capacity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 142
            },
            "id": 130,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (path) > 0",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request rate ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile response time for VictoriaLogs HTTP endpoints, grouped by instance and path. This means 99% of requests are faster than this value. **Lower numbers are better**, as they indicate faster responses and fewer slow requests.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*(bytes)/"
                  },
                  "properties": [
                    {
                      "id": "custom.axisPlacement",
                      "value": "right"
                    },
                    {
                      "id": "unit",
                      "value": "bytes"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 142
            },
            "id": 113,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_rows_ingested_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (type) > 0",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_bytes_ingested_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (type) > 0",
                "hide": false,
                "instant": false,
                "legendFormat": "{{type}} (bytes)",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Logs ingestion rate ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of concurrent insert operations has reached the configured limit: `-maxConcurrentInserts` (default: 2x CPU cores)",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 150
            },
            "id": 207,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(increase(vm_concurrent_insert_limit_reached_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Concurrent insert limit reached ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of insert requests that timed out while waiting for available concurrency slots. This indicates sustained ingestion overload beyond configured limits.\n\nHigh values suggest:\n- Insert queue is consistently full\n- Insert requests waiting too long for execution slots\n- System under sustained heavy ingestion load\n- Need for horizontal scaling or ingestion optimization\n\nCombined with `Insert concurrency limit reached`, provides complete picture of ingestion rejection patterns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "vis": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 150
            },
            "id": 203,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vm_concurrent_insert_limit_timeout_total{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (job) > 0",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Insert timeouts ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of active message processors handling log ingestion. These processors parse and process incoming log messages before storage. The count typically correlates with the ingestion load.\n\nIf this number is unusually high or inflated (which is rare), check memory usage. It may indicate a heavy ingestion load or processing bottlenecks that could benefit from performance tuning.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 158
            },
            "id": 114,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(max_over_time(vl_insert_processors_count{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(max_over_time(vm_concurrent_insert_capacity{job=~\"$job\", instance=~\"$instance_insert\"}[$__rate_interval]))",
                "hide": false,
                "instant": false,
                "legendFormat": "soft limit",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Message processors ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile duration of flush operations in vlinsert by type (max across instances). Spikes imply slow disks or backpressure from remote storage.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 158
            },
            "id": 119,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(vl_insert_flush_duration_seconds{job=~\"$job\", instance=~\"$instance_insert\", quantile=\"0.99\"}) by (type) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Flush duration p99 ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of active log streams tracked by vlinsert per instance. Steady growth indicates increasing stream cardinality; review stream field design.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 166
            },
            "id": 120,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(vl_insert_active_streams{job=~\"$job\", instance=~\"$instance_insert\"}) by (job)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Tracked streams ($instance_insert)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of remote write send errors over the last 24 hours per vlinsert instance. Non‑zero values typically indicate connectivity issues, timeouts, or 4xx/5xx responses.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "red",
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 166
            },
            "id": 121,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(increase(vl_insert_remote_send_errors_total{job=~\"$job\", instance=~\"$instance_insert\"}[24h])) by (job)",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Send errors over 24h ($instance_insert)",
            "type": "timeseries"
          }
        ],
        "title": "vlinsert",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 60
        },
        "id": 122,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "CPU utilization per vlselect instance as a fraction of available cores. Sustained values above 80% suggest CPU bottlenecks; correlate with query duration.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#F2495C",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 135
            },
            "id": 99,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(process_cpu_cores_available{job=~\"$job\", instance=~\"$instance_select\"})",
                "format": "time_series",
                "hide": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "Limit",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance_select\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "CPU % usage ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "How much memory (RAM) the VictoriaLogs process is actually using, compared to its allowed container or system limit. See 'Memory Usage' panel for a detailed breakdown.\n\n- Good: Below 70% most of the time, maybe spiking a bit under load.\n- Bad: Above 90% for more than 5 minutes = risk of out-of-memory (`OOM`) kill.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 135
            },
            "id": 97,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": true,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance_select\"}) by (job)",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "max(vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance_select\"})",
                "hide": false,
                "interval": "",
                "legendFormat": "limit",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Physical memory usage ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Rate of incoming query requests by endpoint path. This metric tracks the query load on VictoriaLogs, including different query interfaces and internal operations. \n\nHigher rates indicate increased query activity from users or applications. Monitor for sudden spikes that might indicate new dashboards, automated queries, or potential performance issues. Sustained high rates may require scaling query processing capacity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 143
            },
            "id": 125,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(rate(vl_http_requests_total{job=~\"$job\", instance=~\"$instance_select\"}[$__rate_interval])) by (path) > 0",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request rate ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "99th percentile of query execution duration. This represents the time it takes for 99% of queries to complete:\n\n- High values indicate slow query performance that affects user experience. \n- Spikes may suggest complex queries, resource contention, or inefficient indexes. Monitor for trends that could indicate degrading performance.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 143
            },
            "id": 126,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(vl_http_request_duration_seconds{job=~\"$job\", instance=~\"$instance_select\", quantile=\"0.99\"}) by (path) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{path}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "HTTP request duration p99 ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "The number of concurrent select operations has reached the configured limit: `-search.maxConcurrentRequests`. To check the default capacity, refer to the `-vl_concurrent_select_capacity` metric.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "limit"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 151
            },
            "id": 208,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "max(increase(vl_concurrent_select_limit_reached_total{job=~\"$job\", instance=~\"$instance_select\"}[$__rate_interval])) by (job)",
                "format": "time_series",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Concurrent query limit reached ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of queries that timed out while waiting for available concurrency slots. This indicates sustained query overload beyond configured limits.\n\nHigh values suggest:\n- Query queue is consistently full\n- Queries waiting too long for execution slots\n- System under sustained heavy load\n- Need for horizontal scaling or query optimization\n\nCombined with `Select concurrency limit reached`, provides complete picture of query rejection patterns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "vis": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 151
            },
            "id": 204,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(increase(vl_concurrent_select_limit_timeout_total{job=~\"$job\", instance=~\"$instance_select\"}[$__rate_interval])) by (job)",
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Query timeouts ($instance_select)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$ds"
            },
            "description": "Number of remote send errors reported by vlselect. Check the logs when sending fails to see the details.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "red",
                  "mode": "fixed"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "links": [],
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 159
            },
            "id": 133,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$ds"
                },
                "editorMode": "code",
                "expr": "sum(increase(vl_select_remote_send_errors_total{job=~\"$job\", instance=~\"$instance_select\"}[$__rate_interval])) by (job) > 0",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{type}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Send errors ($instance_select)",
            "type": "timeseries"
          }
        ],
        "title": "vlselect",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 61
        },
        "id": 151,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Number of storage blocks scanned per query (99th percentile). Each block contains logs for a specific time period and field combination. High values indicate queries scanning too many blocks, often caused by:\n\n- Wide time ranges without specific filters\n- Queries missing indexed fields (like `_stream`, `kubernetes.*`)\n- Non-selective filters that don't utilize `bloom filters`\n\nCorrelate with `Bytes/query p99` - if blocks are high but bytes are low, blocks contain little data (good). If both are high, query is reading large amounts of data.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 136
            },
            "id": 152,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_processed_blocks_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Blocks/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Total bytes read from disk per query (99th percentile). This represents the complete `I/O` overhead for query execution, including:\n\n- Block headers and metadata\n- Bloom filter data for candidate selection\n- Column headers and indexes\n- Actual log values and timestamps\n\nHigh values indicate expensive queries. Compare with specific breakdown panels below to identify bottlenecks. Monitor trends over time and correlate with query complexity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 136
            },
            "id": 150,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_total_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from block headers per query (99th percentile). Block headers contain metadata about each storage block including `time ranges`, `field names`, and data location pointers.\n\nHigh values indicate:\n- Query `time range` spans many blocks (reduce time range or add time-based filters)\n- Missing stream-level filters (`_stream` field) causing full block header scans\n- High cardinality fields creating excessive blocks\n\nMonitor relative changes over time - sudden increases suggest inefficient query patterns or changes in data structure.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 144
            },
            "id": 153,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_block_headers_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job) > 0.001",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Block header bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from Bloom filters per query (99th percentile). `Bloom filters` are probabilistic data structures that quickly eliminate blocks that definitely don't contain search terms.\n\nHigh values indicate:\n- Queries with low-selectivity text filters (common words like `error`, `info`)\n- Missing or ineffective field-based filters\n- Queries that force scanning many candidate blocks\n\nOptimize by adding specific field filters (`kubernetes.container_name`, `_stream`) before text searches. Monitor for sudden increases that indicate poor filter selectivity.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 144
            },
            "id": 154,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_bloom_filters_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job) > 0.001",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Bloom filter bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from actual log values per query (99th percentile). This represents the uncompressed log content being retrieved and processed for the query result.\n\nHigh values indicate:\n- Queries returning large result sets (add `LIMIT` clause)\n- Retrieving logs with large payloads (`JSON` objects, stack traces)\n- Missing filters that would reduce matching log volume\n- Functions like `uniq` or `stats` processing many log entries\n\nReduce by: adding selective filters, using field extractors instead of full log retrieval, limiting result count.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 152
            },
            "id": 155,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_values_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Value bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from timestamp column (`_time`) per query (99th percentile). The `_time` column is automatically indexed and used for time-range filtering during query execution.\n\nHigh values indicate:\n- Queries with very wide time ranges requiring timestamp scanning\n- Time-based aggregations over large datasets\n- Missing time-range restrictions in query filters\n\nThis is usually the smallest component of query `I/O`. Spikes correlate with time range width and data density in the queried period.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 152
            },
            "id": 156,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_timestamps_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "_time bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from column header indexes per query (99th percentile). `Column header indexes` contain metadata about which fields exist in each block and their data types.\n\nHigh values suggest:\n- Queries scanning many blocks due to missing field filters\n- High field cardinality creating large index structures\n- Queries accessing many different field names across blocks\n- Schema evolution causing index fragmentation\n\nOptimize by using consistent `field names` and adding field-specific filters early in query pipeline.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 160
            },
            "id": 157,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_columns_header_indexes_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Column header index bytes/query p99 ($instance)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${ds}"
            },
            "description": "Bytes read from column headers per query (99th percentile). `Column headers` store the actual field schema and compression metadata for each block's columns.\n\nThis metric helps identify:\n- Schema complexity overhead (many fields per log entry)\n- Inefficient field access patterns\n- Blocks with heterogeneous schemas requiring header reads\n\nCompare with other `I/O` breakdown panels to understand query cost distribution. High column header reads suggest schema optimization opportunities or need for more selective field access patterns.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic-by-name"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 160
            },
            "id": 158,
            "options": {
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${ds}"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "max(histogram_quantile(0.99, sum(increase(vl_storage_per_query_columns_headers_read_bytes_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (job, vmrange))) by (job)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{job}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Column header bytes/query p99 ($instance)",
            "type": "timeseries"
          }
        ],
        "title": "Slow query troubleshooting",
        "type": "row"
      }
    ],
    "preload": false,
    "refresh": "",
    "schemaVersion": 41,
    "tags": [
      "victoriametrics",
      "victorialogs"
    ],
    "templating": {
      "list": [
        {
          "current": {
            "text": "default",
            "value": "default"
          },
          "includeAll": false,
          "name": "ds",
          "options": [],
          "query": "prometheus",
          "refresh": 1,
          "regex": "",
          "type": "datasource"
        },
        {
          "current": {
            "text": "All",
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "definition": "label_values(vm_app_version{version=~\"victoria-logs-.*\"}, job)",
          "includeAll": true,
          "multi": true,
          "name": "job",
          "options": [],
          "query": {
            "query": "label_values(vm_app_version{version=~\"victoria-logs-.*\"}, job)",
            "refId": "StandardVariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "All",
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "definition": "label_values(vm_app_version{job=~\"$job\"}, instance)",
          "includeAll": true,
          "multi": true,
          "name": "instance",
          "options": [],
          "query": {
            "query": "label_values(vm_app_version{job=~\"$job\"}, instance)",
            "refId": "StandardVariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "",
            "value": ""
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vm_app_version{job=~\"$job\", instance=~\"$instance\"},short_version)",
          "hide": 2,
          "name": "version",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vm_app_version{job=~\"$job\", instance=~\"$instance\"},short_version)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "baseFilters": [],
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "filters": [],
          "name": "adhoc",
          "type": "adhoc"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vl_merges_total,instance)",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_storage_all",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vl_merges_total,instance)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vl_merges_total{instance=~\"$instance\"},instance)",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_storage",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vl_merges_total{instance=~\"$instance\"},instance)",
            "refId": "VariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vlinsert_backend_conn_bytes_read_total,instance)",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_insert_all",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vlinsert_backend_conn_bytes_read_total,instance)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vlinsert_backend_conn_bytes_read_total{instance=~\"$instance\"},instance)",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_insert",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vlinsert_backend_conn_bytes_read_total{instance=~\"$instance\"},instance)",
            "refId": "VariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vlselect_backend_conn_reads_total,instance)",
          "description": "Instances of vlselect discovered from metrics; used to scope vlselect panels.",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_select_all",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vlselect_backend_conn_reads_total,instance)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "allowCustomValue": true,
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "definition": "label_values(vlselect_backend_conn_reads_total{instance=~\"$instance\"},instance)",
          "description": "Instances of vlselect discovered from metrics; used to scope vlselect panels.",
          "hide": 2,
          "includeAll": true,
          "multi": true,
          "name": "instance_select",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(vlselect_backend_conn_reads_total{instance=~\"$instance\"},instance)",
            "refId": "VariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "now-3h",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "VictoriaLogs - cluster",
    "uid": "XqCOFEX4z",
    "version": 1,
    "weekStart": ""
  }